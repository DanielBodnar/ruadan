<html>
<head>
    <script>
        var logMutations = function(mutations) {
            console.log(mutations);
        };

        var MutationObserver, observer, options;
        MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        observer = new MutationObserver(logMutations);
        options = {
            childList: true,
            attributes: true,
            characterData: true,
            subtree: true,
            attributeOldValue: true,
            characterDataOldValue: true,
            cssProperties: true,
            cssPropertyOldValue: true,
            cssPropertyFilter: [],
            attributeFilter: []
        };
        observer.observe(document.getElementsByTagName("html")[0], options);

    </script>
</head>
<body>
    <button>Hello, world!</button>
    <script>
        var host = document.querySelector('button');
        var root = host.webkitCreateShadowRoot();
        root.textContent = 'こんにちは、影の世界!';
        var counter = 0;
        setInterval(function(){
            root.textContent = ""+counter++

        }, 500);

    </script>
</body>
</html>

